tests: 
  checkCdromDrive: 
    command: "#$DMESG | egrep '^hd[b-d]'"
    title: "Checking status of CD ROM:"
    explanation: |-
      The output should contain reference to a CD ROM and possibly a
      DVD ROM which should each show up as one of hdb, hdc, or hdd.
      If not, it is likely cabled or jumpered incorrectly.  Please
      note where the CD ROM is on the build sheet.
      NOTE: The CD ROM may not show up in BIOS. This is not a
      problem.
  checkHardDrive: 
    command: "#$DMESG | egrep '^hda'"
    title: "Checking status of hard drive:"
    explanation: |-
      This command is showing information corresponding to the
      harddrive that has been installed in this system, and each line
      should begin with 'hda'.  If this is not true, the harddrive is
      improperly jumpered.  Shut down the computer and rejumper the
      drive.  Otherwise, make sure the size is correct and recorded in
      the paperwork.
  checkVideoCard: 
    command: lspci | grep VGA | grep -vi 'non-vga'
    title: "Checking for video card:"
    explanation: Note the model name on the build sheet.
  checkIrq: 
    command: cat /proc/interrupts
    title: "Checking IRQ configuration:"
    explanation: |-
      The left column values are IRQs, the right values are
      devices.  On older systems or systems with hardware (ISA)
      modems, you should check for conflicts.  These will show up as
      multiple, comma-separated devices on the same line.
  checkNetwork: 
    title: "Checking networking:"
    test: "system(\"ping -c 1 #$SERVER\")"
    explanation: |-
      This command tests communication over the network by requesting
      a simple message be sent back from our build server.
    fallback_command: sudo /etc/init.d/networking restart
    success: Networking seems to work.
    failure: |-
      Networking is not responding.  Your network card may be broken
      or misconfigured.
  checkSerial: 
    command: "#$DMESG | grep ttyS | grep -v LSR"
    title: "Checking status of serial ports:"
    explanation: |-
      Serial ports (the 9-pin connectors built into most motherboards)
      and hardware modems will show up in this list.  For ISA modems,
      look for potential conflicts over IRQ numbers, and make sure all
      the devices you expect to show up are present.
  checkFloppyDrive: 
    title: "Checking status of floppy drive:"
    pretest: "Please insert any floppy disk with data on it."
    commands: 
    - pmount /media/floppy
    - ls /media/floppy
    - "#$DMESG | grep fd"
    explanation: |-
      Floppy disk activity should generate some messages above.  If no
      messages show up, the floppy drive is not working.  You can
      remove the floppy disk now.
  checkSound: 
    command: aplay /usr/share/sounds/login.wav
    title: "Checking sound:"
    pretest: |-
      A sound is about to play.  Please make sure the speakers are
      plugged in and on.
    explanation: |-
      A sound should have played just now at an audible level without
      distortion.
      
      If a sound did not play, the speakers may be plugged into the
      wrong port or may not be turned on.
      
      If error messages were displayed, the sound card may not be
      physically installed, properly configured or it may be bad
      hardware.
      
      If the sound was too quiet, try using the 'alsamixer' command to
      adjust the volume levels, and make sure the speakers are powered
      and turned up.
      
      If the sound is distorted, turn down the volume in both
      'alsamixer' and on the speakers, or decide that the speakers are
      bad.
  checkCpuInfo: 
    title: "Checking CPU info:"
    commands: 
    - grep 'model name' /proc/cpuinfo
    - grep 'cpu family' /proc/cpuinfo
    - grep 'cpu MHz' /proc/cpuinfo
    - grep 'bogomips' /proc/cpuinfo
    explanation: |-
      cpu MHz should match what was written on the label on the case.
      If it does not you must stop and figure out why.
      
      It is important that the bogomips rating is close to twice the
      cpu MHz rating, so we are sure that the cpu is not slow.  If the
      bogomips rating is low, call over your friendly build
      instructor.
      
      For Pentium I and K-6 and K-62 chips, cpu family should be 5.
      For Pentium II, cpu family should be 6
      
      Make sure that this info fits within the specifications of the
      box that you are building.
  checkParallel: 
    command: "#$DMESG | grep parport"
    title: "Checking status of parallel port:"
    explanation: |-
      This command is showing information about the parallel port.
      Make sure it is addressed to 0x378, and if not, correct this
      setting in BIOS.
  checkVideoResolution: 
    command: xdpyinfo -display :0 | grep dimen
    title: "Checking video resolution:"
    explanation: |-
      This is the number of pixels displayed on the screen.  For
      usability purposes, this should be set to 1024x768.  If it is
      smaller than this, your video card may not have enough memory.
      If it is larger, it is ok as long as you can read it.
  checkMemory: 
    command: "free -m | egrep '^Mem' | awk '{print $2}'"
    title: "Checking amount of memory:"
    explanation: |-
      The value should be the number of megabytes of memory you have
      installed in this system.
server: chasm
